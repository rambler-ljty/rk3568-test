semaphore.c 这个文件实现了一个使用信号量进行同步的字符设备驱动程序。

主要功能包括：
1.使用信号量（semaphore_test）来控制设备的互斥访问
2.实现了标准的字符设备操作函数：
  open_test: 打开设备时获取信号量
  read_test: 从设备读取数据
  write_test: 向设备写入数据，并根据写入内容执行不同的延时操作
  release_test: 关闭设备时释放信号量
3.在模块初始化时：
  初始化信号量
  动态分配设备号
  初始化并注册字符设备
  创建设备类和设备节点
4.在模块退出时：
  清理所有设备资源
  注销设备号

这个示例展示了如何在Linux字符设备驱动中使用信号量来实现进程间的同步和互斥访问控制。
